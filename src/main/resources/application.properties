# Application
spring.application.name=demo-flywaycrud-2025

# MongoDB Configuration
# Points to the 'mongo' service defined in docker-compose.yml
spring.data.mongodb.uri=mongodb://mongo:27017/demo-flywaycrud-2025

# Flyway for MongoDB Migrations (requires DbSchema Mongo JDBC Driver)
spring.flyway.url=jdbc:mongo://mongo:27017/demo-flywaycrud-2025
spring.flyway.driver-class-name=com.dbschema.MongoJdbcDriver
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.sql-migration-suffixes=.js

# Actuator Configuration (for health checks in CI)
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.endpoint.health.probes.enabled=true

# Optional: Server Configuration
server.port=8080

# Optional: Logging Configuration for better debugging
logging.level.org.springframework.data.mongodb=DEBUG
logging.level.org.flywaydb=DEBUG
logging.level.com.dbschema=DEBUG

# Optional: MongoDB connection pool settings for better reliability
spring.data.mongodb.connect-timeout=10000ms
spring.data.mongodb.socket-timeout=10000ms